<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedidos</title>
    <!-- Enlaza Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        /* Estilos personalizados */
        body {
            background-color: #f8f9fa;
        }
        .container {
            margin-top: 50px;
        }
        .menu {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .pedido-item {
            margin-bottom: 10px;
        }
        .custom-control-label::before,
        .custom-control-label::after {
            top: .8rem;
            width: 1.25rem;
            height: 1.25rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Menú -->
        <div class="menu">
            <button id="backBtn" class="btn btn-primary">Regresar</button>
            <button id="logoutBtn" class="btn btn-danger">Cerrar sesión</button>
        </div>
        <h2 class="mb-4">Realizar Pedido</h2>
        <p>Selecciona los ítems que desees pedir:</p>
        <div class="form-group">
            <div class="pedido-item">
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="item1">
                    <label class="custom-control-label" for="item1">Item 1</label>
                </div>
            </div>
            <div class="pedido-item">
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="item2">
                    <label class="custom-control-label" for="item2">Item 2</label>
                </div>
            </div>
            <div class="pedido-item">
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="item3">
                    <label class="custom-control-label" for="item3">Item 3</label>
                </div>
            </div>
            <!-- Agrega más ítems aquí si lo necesitas -->
        </div>
        <div class="form-group">
            <label for="resumen">Resumen del pedido:</label>
            <textarea class="form-control" id="resumen" rows="4" readonly>Pedido - General</textarea>
        </div>
        <button id="copiarBtn" class="btn btn-primary">Copiar Resumen</button>
        <button id="imprimirBtn" class="btn btn-success">Imprimir Resumen</button>
    </div>

    <!-- Enlaza Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <!-- Agrega tu propio script JavaScript -->
    <script>
        // Obtener los elementos de checkbox
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        const resumenTextarea = document.getElementById('resumen');
        const copiarBtn = document.getElementById('copiarBtn');
        const imprimirBtn = document.getElementById('imprimirBtn');

        checkboxes.forEach((checkbox) => {
            checkbox.addEventListener('change', () => {
                // Reinicia el resumen del pedido
                let resumen = 'Pedido - General' + '\n\n';

                // Agrega los ítems seleccionados al resumen
                checkboxes.forEach((checkbox) => {
                    if (checkbox.checked) {
                        resumen += checkbox.nextElementSibling.textContent + '\n';
                    }
                });

                // Actualiza el contenido del textarea de resumen
                resumenTextarea.value = resumen;
            });
        });

        // Función para copiar el resumen al portapapeles
        copiarBtn.addEventListener('click', () => {
            // Selecciona el texto del resumen
            resumenTextarea.select();
            resumenTextarea.setSelectionRange(0, 99999); // Para dispositivos móviles

            // Copia el texto al portapapeles
            document.execCommand('copy');
        });

        // Función para imprimir el resumen
        imprimirBtn.addEventListener('click', () => {
            // Abrir una nueva ventana para imprimir solo el resumen
            let printWindow = window.open('', '_blank');
            printWindow.document.write('<html><head><title>Resumen del Pedido</title></head><body>');
            printWindow.document.write('<h1>Resumen del Pedido</h1>');
            printWindow.document.write('<pre>' + resumenTextarea.value + '</pre>');
            printWindow.document.write('</body></html>');
            printWindow.document.close();

            // Imprimir la ventana
            printWindow.print();
        });

        document.getElementById("backBtn").addEventListener("click", function(){
            // Regresa a la página de dashboard
            window.location.href = "dashboard.html";
        });

        document.getElementById("logoutBtn").addEventListener("click", function(){
            // Aquí puedes agregar la lógica de cierre de sesión, por ejemplo, limpiar la sesión
            
            // Simplemente redirecciona a la página de inicio de sesión después de cerrar sesión
            window.location.href = "index.html";
        });
    </script>
</body>
</html>
